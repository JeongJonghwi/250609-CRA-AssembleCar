<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
        <meta charset="utf-8"/>
	    <title>assemble.cpp</title>
	    <link href="../../third-party/google-code-prettify/prettify-CppCoverage.css" type="text/css" rel="stylesheet" />
	    <script type="text/javascript" src="../../third-party/google-code-prettify/prettify.js"></script>
	</head>
    <body onload="prettyPrint()">
        <h4></h4>
        <pre class="prettyprint lang-cpp linenums">
#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;
#include &lt;string.h&gt;

#include "assemble.h"
#include "gmock/gmock.h"

<span style = "background-color:#dfd">void delay(int ms) {
    volatile int sum = 0;
    while (sum++ &lt; ms * 1000 * 1000)
        ;
}</span>

void printErrorAndDelay(const char* errMsg, int ms)
<span style = "background-color:#dfd">{
    printf("ERROR :: %s\n", errMsg);
    delay(ms);
}</span>

bool Assemble::isUserInputExit()
<span style = "background-color:#dfd">{
    if (!strcmp(buf, "exit")) {
        printf("¹ÙÀÌ¹ÙÀÌ\n");
        return true;</span>
    }
<span style = "background-color:#dfd">    return false;
}</span>

bool Assemble::isInvalidUserInput(int stepForAssemble)
<span style = "background-color:#dfd">{</span>
    char* checkNumber;
<span style = "background-color:#dfd">    userInput = strtol(buf, &amp;checkNumber, 10);</span>

<span style = "background-color:#dfd">    if (*checkNumber != '\0') {
        printErrorAndDelay("¼ýÀÚ¸¸ ÀÔ·Â °¡´É", 800);
        return true;</span>
    }

<span style = "background-color:#dfd">    if (stepForAssemble == CarType_Q &amp;&amp; !(userInput &gt;= CARTYPE_START &amp;&amp; userInput &lt;= CARTYPE_END)) {
        printErrorAndDelay("Â÷·® Å¸ÀÔÀº 1 ~ 3 ¹üÀ§¸¸ ¼±ÅÃ °¡´É", 800);
        return true;</span>
    }

<span style = "background-color:#dfd">    if (stepForAssemble == Engine_Q &amp;&amp; !(userInput &gt;= ENGINE_START &amp;&amp; userInput &lt;= ENGINE_END)) {
        printErrorAndDelay("¿£ÁøÀº 1 ~ 4 ¹üÀ§¸¸ ¼±ÅÃ °¡´É", 800);
        return true;</span>
    }

<span style = "background-color:#dfd">    if (stepForAssemble == brakeSystem_Q &amp;&amp; !(userInput &gt;= BRAKE_START &amp;&amp; userInput &lt;= BRAKE_END)) {
        printErrorAndDelay("Á¦µ¿ÀåÄ¡´Â 1 ~ 3 ¹üÀ§¸¸ ¼±ÅÃ °¡´É", 800);
        return true;</span>
    }

<span style = "background-color:#dfd">    if (stepForAssemble == SteeringSystem_Q &amp;&amp; !(userInput &gt;= STEERING_START &amp;&amp; userInput &lt;= STEERING_END)) {
        printErrorAndDelay("Á¶ÇâÀåÄ¡´Â 1 ~ 2 ¹üÀ§¸¸ ¼±ÅÃ °¡´É", 800);
        return true;</span>
    }

<span style = "background-color:#dfd">    if (stepForAssemble == Run_Test &amp;&amp; !(userInput &gt;= 0 &amp;&amp; userInput &lt;= 2)) {
        printErrorAndDelay("Run ¶Ç´Â Test Áß ÇÏ³ª¸¦ ¼±ÅÃ ÇÊ¿ä", 800);
        return true;</span>
    }

<span style = "background-color:#dfd">    return false;
}</span>

bool Assemble::runStepForAssemble(int &amp;stepForAssemble)
<span style = "background-color:#dfd">{
    if (userInput == 0 &amp;&amp; stepForAssemble == Run_Test) {
        stepForAssemble = CarType_Q;
        return false;</span>
    }

<span style = "background-color:#dfd">    if (userInput == 0 &amp;&amp; stepForAssemble &gt;= 1) {
        stepForAssemble -= 1;
        return false;</span>
    }

<span style = "background-color:#dfd">    if (stepForAssemble == CarType_Q) {
        car-&gt;setCarType(userInput);
        delay(800);
        stepForAssemble = Engine_Q;
    } else if (stepForAssemble == Engine_Q) {
        car-&gt;setEngine(userInput);
        delay(800);
        stepForAssemble = brakeSystem_Q;
    } else if (stepForAssemble == brakeSystem_Q) {
        car-&gt;setBrakeSystem(userInput);
        delay(800);
        stepForAssemble = SteeringSystem_Q;
    } else if (stepForAssemble == SteeringSystem_Q) {
        car-&gt;setSteeringSystem(userInput);
        delay(800);
        stepForAssemble = Run_Test;
    } else if (stepForAssemble == Run_Test) {
        runProduceOrTest();
        delay(2000);</span>
    }
<span style = "background-color:#dfd">    return true;
}</span>

void Assemble::runProduceOrTest()
<span style = "background-color:#dfd">{
    if (userInput == 1) {
        car-&gt;runProducedCar();
    } else if (userInput == 2) {
        printf("Test...\n");
        delay(1500);
        car-&gt;testProducedCar();</span>
    }
<span style = "background-color:#dfd">}</span></pre>
        <hr />
        <table width="100%">
            <thead>
                <tr>
                    <th align="center">
                        <small>Generated by</small>
                        <a href="https://github.com/OpenCppCoverage/OpenCppCoverage/releases">
                            <strong>OpenCppCoverage (Version: 0.9.9.0)</strong>
                        </a>
                    </th>
                </tr>
            </thead>
        </table>
    </body>
</html>